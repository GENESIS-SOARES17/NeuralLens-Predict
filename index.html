<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NeuralLens Predict</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header */
        .header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #3b82f6;
        }

        .header-content {
            flex: 1;
            min-width: 300px;
        }

        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            color: #60a5fa;
            margin-bottom: 10px;
            word-break: break-word;
        }

        /* Wallet Section */
        .wallet-section {
            background: #1e293b;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #334155;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            min-width: 350px;
        }

        .wallet-status {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
        }

        .wallet-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
            flex: 1;
        }

        .wallet-label {
            color: #94a3b8;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .wallet-address {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: clamp(0.9rem, 2vw, 1.1rem);
            background: #0f172a;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #3b82f6;
            color: #60a5fa;
            word-break: break-all;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .wallet-address.connected {
            background: #10b98120;
            border-color: #10b981;
            color: #10b981;
        }

        .wallet-address.disconnected {
            background: #ef444420;
            border-color: #ef4444;
            color: #ef4444;
        }

        .wallet-details {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }

        .wallet-icon {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }

        .address-text {
            flex: 1;
        }

        .wallet-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* Connection Buttons */
        .connect-btn {
            background: linear-gradient(to right, #10b981, #059669);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 200px;
            justify-content: center;
            position: relative;
        }

        .connect-btn:hover {
            background: linear-gradient(to right, #059669, #047857);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(16, 185, 129, 0.3);
        }

        .connect-btn.with-dropdown {
            padding-right: 40px;
        }

        .dropdown-arrow {
            position: absolute;
            right: 15px;
            transition: transform 0.3s;
        }

        .connect-btn.active .dropdown-arrow {
            transform: rotate(180deg);
        }

        .disconnect-btn {
            background: linear-gradient(to right, #ef4444, #dc2626);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 200px;
            justify-content: center;
        }

        .disconnect-btn:hover {
            background: linear-gradient(to right, #dc2626, #b91c1c);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(239, 68, 68, 0.3);
        }

        /* Wallet Dropdown Menu */
        .wallet-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            margin-top: 5px;
            padding: 10px;
            z-index: 1000;
            display: none;
            flex-direction: column;
            gap: 5px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .connect-btn.active .wallet-dropdown {
            display: flex;
        }

        .wallet-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            background: transparent;
            color: #e2e8f0;
            text-align: left;
        }

        .wallet-option:hover {
            background: #3b82f620;
        }

        .wallet-option:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .wallet-option .wallet-icon {
            width: 28px;
            height: 28px;
        }

        .wallet-option .wallet-name {
            font-weight: 500;
            font-size: 1rem;
        }

        .wallet-option .wallet-status {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-left: auto;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .copy-btn, .explorer-btn {
            background: #475569;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .copy-btn:hover {
            background: #3b82f6;
        }

        .explorer-btn {
            background: #6b7280;
        }

        .explorer-btn:hover {
            background: #4b5563;
        }

        .warning {
            background-color: #f59e0b20;
            border-left: 4px solid #f59e0b;
            padding: 12px 15px;
            margin-bottom: 25px;
            border-radius: 0 8px 8px 0;
            font-size: clamp(0.9rem, 2vw, 1rem);
        }

        .warning strong {
            color: #fbbf24;
        }

        /* Statistics */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #1e293b;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid #334155;
        }

        .stat-card h3 {
            color: #94a3b8;
            font-size: clamp(0.9rem, 2vw, 1rem);
            margin-bottom: 10px;
        }

        .stat-card .value {
            font-size: clamp(1.5rem, 4vw, 2rem);
            font-weight: bold;
            color: #60a5fa;
        }

        .owner-badge {
            display: inline-block;
            background: #10b981;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        /* Sections */
        .section {
            background: #1e293b;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid #334155;
        }

        .section-title {
            color: #60a5fa;
            margin-bottom: 20px;
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            padding-bottom: 10px;
            border-bottom: 1px solid #334155;
        }

        /* Asset Filter */
        .assets-filter {
            margin-bottom: 20px;
        }

        .filter-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }

        .filter-tab {
            background: #0f172a;
            border: 1px solid #334155;
            color: #94a3b8;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .filter-tab:hover {
            background: #1e293b;
            border-color: #3b82f6;
        }

        .filter-tab.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .search-assets {
            width: 100%;
            padding: 12px 15px;
            background: #0f172a;
            border: 1px solid #475569;
            border-radius: 8px;
            color: #e2e8f0;
            font-size: 1rem;
            margin-bottom: 15px;
        }

        .search-assets:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        /* Asset Grid */
        .assets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }

        .asset-card {
            background: #0f172a;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid #334155;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .asset-card:hover {
            border-color: #3b82f6;
            background: #1e3a8a20;
            transform: translateY(-2px);
        }

        .asset-card.selected {
            border-color: #10b981;
            background: #10b98120;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
        }

        .asset-card.ankr-selected {
            border-color: #10b981;
            background: #10b98120;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
        }

        .asset-card.ankr-selected::before {
            content: '‚òÖ';
            position: absolute;
            top: 8px;
            right: 8px;
            color: #fbbf24;
            font-size: 0.9rem;
        }

        .asset-card.ankr-selected::after {
            content: 'FEATURED';
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            background: #10b981;
            color: white;
            font-size: 0.7rem;
            padding: 2px;
            border-radius: 0 0 8px 8px;
        }

        .asset-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .asset-icon {
            width: 24px;
            height: 24px;
            object-fit: contain;
            border-radius: 50%;
        }

        .asset-name {
            font-weight: bold;
            font-size: 1rem;
        }

        .asset-symbol {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-bottom: 5px;
        }

        .asset-price {
            color: #10b981;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .asset-change {
            font-size: 0.8rem;
            margin-top: 3px;
        }

        .asset-change.positive {
            color: #10b981;
        }

        .asset-change.negative {
            color: #ef4444;
        }

        .asset-rank {
            position: absolute;
            top: 5px;
            left: 8px;
            background: #475569;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #cbd5e1;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background: #0f172a;
            border: 1px solid #475569;
            border-radius: 8px;
            color: #e2e8f0;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .button {
            display: inline-block;
            background: linear-gradient(to right, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            text-align: center;
            margin-top: 10px;
        }

        .button:hover {
            background: linear-gradient(to right, #2563eb, #1e40af);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(37, 99, 235, 0.3);
        }

        .button:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Direction */
        .direction-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .direction-btn {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .up {
            background: #10b98130;
            border: 2px solid #10b981;
            color: #10b981;
        }

        .up:hover, .up.selected {
            background: #10b981;
            color: white;
        }

        .down {
            background: #ef444430;
            border: 2px solid #ef4444;
            color: #ef4444;
        }

        .down:hover, .down.selected {
            background: #ef4444;
            color: white;
        }

        /* Table */
        .table-responsive {
            overflow-x: auto;
            margin-top: 20px;
        }

        table {
            width: 100%;
            min-width: 600px;
            border-collapse: collapse;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }

        th {
            background: #0f172a;
            color: #94a3b8;
            font-weight: 600;
        }

        tr:hover {
            background: #1e293b;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #334155;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .footer a {
            color: #60a5fa;
            text-decoration: none;
        }

        .refresh-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 20px;
            background: #475569;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
            display: none;
        }

        .notification.success {
            background: #10b981;
            border-left: 4px solid #059669;
        }

        .notification.error {
            background: #ef4444;
            border-left: 4px solid #dc2626;
        }

        .notification.info {
            background: #3b82f6;
            border-left: 4px solid #1d4ed8;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsiveness */
        @media (max-width: 992px) {
            .header {
                flex-direction: column;
                gap: 20px;
            }
            
            .wallet-section {
                width: 100%;
            }
            
            .assets-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                max-height: 350px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
            
            .section {
                padding: 20px 15px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .assets-grid {
                grid-template-columns: repeat(2, 1fr);
                max-height: 300px;
            }
            
            .direction-buttons {
                flex-direction: column;
            }
            
            .wallet-actions {
                flex-direction: column;
                width: 100%;
            }
            
            .connect-btn, .disconnect-btn {
                width: 100%;
            }
            
            .wallet-address {
                font-size: 0.85rem;
                padding: 10px;
            }
            
            .filter-tabs {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .assets-grid {
                grid-template-columns: 1fr;
            }
            
            .button {
                padding: 12px 20px;
            }
            
            .wallet-dropdown {
                position: fixed;
                left: 10px;
                right: 10px;
                top: auto;
                bottom: 10px;
                max-height: 60vh;
            }
        }
    </style>
</head>
<body>
    <!-- Notifications -->
    <div id="notification" class="notification"></div>
    
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <h1>NeuralLens Predict</h1>
                <div class="warning">
                    ‚ö†Ô∏è Please switch to Neura Testnet (Chain ID: 267)
                </div>
            </div>
            
            <!-- Wallet Section -->
            <div class="wallet-section">
                <div class="wallet-status">
                    <div class="wallet-info">
                        <div class="wallet-label">Wallet Status</div>
                        <div id="walletAddress" class="wallet-address disconnected">
                            <div class="wallet-details">
                                <img id="walletIcon" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE5IDIxSDUQTTE5IDdMNSA3TDE5IDdaTTE5IDdWMjBMMTkgN1pNNSA3VjIwTDUgN1pNMTkgMTJINVoiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K" class="wallet-icon" style="display: none;">
                                <span id="addressText" class="address-text">Not connected</span>
                            </div>
                            <div class="action-buttons">
                                <button id="copyAddressBtn" class="copy-btn" style="display: none;" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
                                        <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
                                    </svg>
                                </button>
                                <button id="explorerBtn" class="explorer-btn" style="display: none;" title="View in explorer">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                                        <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="wallet-actions">
                        <button id="connectWalletBtn" class="connect-btn with-dropdown">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M0 3a2 2 0 0 1 2-2h13.5a.5.5 0 0 1 0 1H15v2a1 1 0 0 1 1 1v8.5a1.5 1.5 0 0 1-1.5 1.5h-12A2.5 2.5 0 0 1 0 12.5V3zm1 1.732V12.5A1.5 1.5 0 0 0 2.5 14h12a.5.5 0 0 0 .5-.5V5H2a1.99 1.99 0 0 1-1-.268zM1 3a1 1 0 0 0 1 1h12V2H2a1 1 0 0 0-1 1z"/>
                            </svg>
                            Connect Wallet
                            <span class="dropdown-arrow">‚ñº</span>
                            <div class="wallet-dropdown">
                                <button class="wallet-option" data-wallet="metamask">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzIyMjIyMiIvPgo8cGF0aCBkPSJNMjQuMTQ1NyAxMEwxNi4wNzE0IDEzLjY2NjdMMTkuNzE0MyA1LjMzMzM0TDI0LjE0NTcgMTBaTTcuODU3MTQgMTBMMTIuMjg1NyAxMy42NjY3TDE2LjA3MTQgNS4zMzMzNEw3Ljg1NzE0IDEwWiIgZmlsbD0iI0U4NzYxQyIvPgo8cGF0aCBkPSJNMjAuNTcxNCAyMEwxNi4wNzE0IDEzLjY2NjdMMTIuMjg1NyAxMy42NjY3TDE3LjQyODYgMjBIMjAuNTcxNFpNMTEuNDI4NiAyMEwxNi4wNzE0IDEzLjY2NjdMNy44NTcxNCAxMEwxMS40Mjg2IDIwWiIgZmlsbD0iI0Y4ODc0QSIvPgo8cGF0aCBkPSJNMjAuNTcxNCAyMEwyNC4xNDU3IDEwTDE2LjA3MTQgMTMuNjY2N0wyMC41NzE0IDIwWiIgZmlsbD0iI0U4NzYxQyIvPgo8cGF0aCBkPSJNMTEuNDI4NiAyMEw3Ljg1NzE0IDEwTDE2LjA3MTQgMTMuNjY2N0wxMS40Mjg2IDIwWiIgZmlsbD0iI0QzNjQ0NSIvPgo8L3N2Zz4K" class="wallet-icon">
                                    <span class="wallet-name">MetaMask</span>
                                    <span class="wallet-status">Popular</span>
                                </button>
                                <button class="wallet-option" data-wallet="okx">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzAwMDAwMCIvPgo8cGF0aCBkPSJNMTYgMjBDMTkuMzEzNyAyNCAyMi4yMjQ5IDIyLjIxMjEgMjQuMjQ2NyAxOS41MjQ4TDE5LjUyNDggMTYuNzUzM0MyMS4wMDA0IDE4Ljk5NzcgMTguOTk3NyAyMS4wMDA0IDE2LjY2NjcgMTkuNjY2N0MxNC4zMzU3IDE4LjMzMyAxNS42NjY3IDE1LjY2NjcgMTUuNjY2NyAxNS42NjY3QzE1LjY2NjcgMTUuNjY2NyAxNy45OTk3IDE0LjMzMzcgMTkuNTI0OCAxNS4yNDY3TDI0LjI0NjcgMTIuNDc1MkMyMi4yMjQ5IDkuNzg3OTQgMTkuMzEzNyA4IDE2IDhDMTEuNTgxNyA4IDggMTEuNTgxNyA4IDE2QzggMjAuNDE4MyAxMS41ODE3IDI0IDE2IDI0WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==" class="wallet-icon">
                                    <span class="wallet-name">OKX Wallet</span>
                                    <span class="wallet-status">Multi-chain</span>
                                </button>
                                <button class="wallet-option" data-wallet="rabbit">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzAwQjBGRiIvPgo8cGF0aCBkPSJNMTYgMTBDMTguMjA5MSAxMCAyMCAxMS43OTA5IDIwIDE0QzIwIDE2LjIwOTEgMTguMjA5MSAxOCAxNiAxOEMxMy43OTA5IDE4IDEyIDE2LjIwOTEgMTIgMTRDMTIgMTEuNzkwOSAxMy43OTA5IDEwIDE2IDEwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2IDIyQzE5LjMxMzcgMjIgMjIgMTkuMzEzNyAyMiAxNkMyMiAxMi42ODYzIDE5LjMxMzcgMTAgMTYgMTBDMTIuNjg2MyAxMCAxMCAxMi42ODYzIDEwIDE2QzEwIDE5LjMxMzcgMTIuNjg2MyAyMiAxNiAyMlpNMTYgMjBDMTMuNzkwOSAyMCAxMiAxOC4yMDkxIDEyIDE2QzEyIDEzLjc5MDkgMTMuNzkwOSAxMiAxNiAxMkMxOC4yMDkxIDEyIDIwIDEzLjc5MDkgMjAgMTZDMjAgMTguMjA5MSAxOC4yMDkxIDIwIDE2IDIwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2LjUgMTYuNUgxNS41VjE3LjVIMTYuNVYxNi41WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==" class="wallet-icon">
                                    <span class="wallet-name">Rabbit Wallet</span>
                                    <span class="wallet-status">Fast & Secure</span>
                                </button>
                                <button class="wallet-option" data-wallet="trust">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzMzNkJFRiIvPgo8cGF0aCBkPSJNMTYgMjBDMTguMjA5MSAyMCAyMCAxOC4yMDkxIDIwIDE2QzIwIDEzLjc5MDkgMTguMjA5MSAxMiAxNiAxMkMxMy43OTA5IDEyIDEyIDEzLjc5MDkgMTIgMTZDMTIgMTguMjA5MSAxMy43OTA5IDIwIDE2IDIwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2IDE4QzE3LjEwNDYgMTggMTggMTcuMTA0NiAxOCAxNkMxOCAxNC44OTU0IDE3LjEwNDYgMTQgMTYgMTRDMTQuODk1NCAxNCAxNCAxNC44OTU0IDE0IDE2QzE0IDE3LjEwNDYgMTQuODk1NCAxOCAxNiAxOFoiIGZpbGw9IiMzMzZCRUYiLz4KPC9zdmc+Cg==" class="wallet-icon">
                                    <span class="wallet-name">Trust Wallet</span>
                                    <span class="wallet-status">Mobile</span>
                                </button>
                                <button class="wallet-option" data-wallet="coinbase">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBkPSJNMTYgMjBDMTguMjA5MSAyMCAyMCAxOC4yMDkxIDIwIDE2QzIwIDEzLjc5MDkgMTguMjA5MSAxMiAxNiAxMkMxMy43OTA5IDEyIDEyIDEzLjc5MDkgMTIgMTZDMTIgMTguMjA5MSAxMy43OTA5IDIwIDE2IDIwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2LjUgMTUuNUgxNS41VjE2LjVIMTYuNVYxNS41WiIgZmlsbD0iIzAwNTJGRiIvPgo8L3N2Zz4K" class="wallet-icon">
                                    <span class="wallet-name">Coinbase Wallet</span>
                                    <span class="wallet-status">Exchange</span>
                                </button>
                                <button class="wallet-option" data-wallet="phantom">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzVBNTJGRiIvPgo8cGF0aCBkPSJNMTYgMTBDMTguMjA5MSAxMCAyMCAxMS43OTA5IDIwIDE0QzIwIDE2LjIwOTEgMTguMjA5MSAxOCAxNiAxOEMxMy43OTA5IDE4IDEyIDE2LjIwOTEgMTIgMTRDMTIgMTEuNzkwOSAxMy43OTA5IDEwIDE2IDEwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTIyIDE2QzIyIDE5LjMxMzcgMTkuMzEzNyAyMiAxNiAyMkMxMi42ODYzIDIyIDEwIDE5LjMxMzcgMTAgMTZDMTAgMTIuNjg2MyAxMi42ODYzIDEwIDE2IDEwQzE5LjMxMzcgMTAgMjIgMTIuNjg2MyAyMiAxNlpNMjAgMTZDMjAgMTguMjA5MSAxOC4yMDkxIDIwIDE2IDIwQzEzLjc5MDkgMjAgMTIgMTguMjA5MSAxMiAxNkMxMiAxMy43OTA5IDEzLjc5MDkgMTIgMTYgMTJDMTguMjA5MSAxMiAyMCAxMy43OTA5IDIwIDE2WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==" class="wallet-icon">
                                    <span class="wallet-name">Phantom</span>
                                    <span class="wallet-status">Solana</span>
                                </button>
                            </div>
                        </button>
                        <button id="disconnectWalletBtn" class="disconnect-btn" style="display: none;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-1.5h7v8h-7V10a.5.5 0 0 0-1 0v2.5zm4.854-7.854a.5.5 0 0 0-.708-.708L7.5 6.793 6.354 5.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
                            </svg>
                            Disconnect
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <h3>ANKR Balance</h3>
                <div id="ankrBalance" class="value">0</div>
            </div>
            <div class="stat-card">
                <h3>Active Predictions</h3>
                <div id="activePredictions" class="value">0</div>
            </div>
            <div class="stat-card">
                <h3>Total Predictions</h3>
                <div id="totalPredictions" class="value">0</div>
            </div>
            <div class="stat-card">
                <h3>Status</h3>
                <div class="value" id="ownerStatus">Not connected</div>
                <div id="ownerBadge" class="owner-badge" style="display: none;">OWNER</div>
            </div>
        </div>

        <button id="refreshStatsBtn" class="refresh-button">üîÑ Refresh Statistics</button>

        <!-- Add Liquidity -->
        <div class="section">
            <h2 class="section-title">Add Liquidity</h2>
            <div class="form-group">
                <label for="amount">Amount (ANKR)</label>
                <input type="number" id="amount" class="form-control" value="10" min="0">
            </div>
            <button id="addLiquidityBtn" class="button" disabled>Add Liquidity</button>
            <p style="margin-top: 15px; color: #94a3b8; font-size: 0.9rem;">
                Add ANKR to the contract to enable prize payments
            </p>
        </div>

        <!-- Make Prediction -->
        <div class="section">
            <h2 class="section-title">Make Prediction</h2>
            
            <div class="assets-filter">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">All</button>
                    <button class="filter-tab" data-filter="top10">Top 10</button>
                    <button class="filter-tab" data-filter="layer1">Layer 1</button>
                    <button class="filter-tab" data-filter="defi">DeFi</button>
                    <button class="filter-tab" data-filter="metaverse">Metaverse</button>
                </div>
                <input type="text" id="searchAssets" class="search-assets" placeholder="üîç Search asset...">
            </div>
            
            <div class="assets-grid" id="assetsGrid">
                <!-- Assets will be loaded via JavaScript -->
            </div>
            
            <div class="form-group">
                <label for="entry-price">Entry Price (USD)</label>
                <input type="number" id="entry-price" class="form-control" value="0.05">
            </div>
            
            <div class="form-group">
                <label for="leverage">Leverage: <span id="leverage-value">10x</span></label>
                <input type="range" id="leverage" class="form-control" min="1" max="20" value="10">
            </div>
            
            <div class="form-group">
                <label for="duration">Duration</label>
                <select id="duration" class="form-control">
                    <option>5 minutes</option>
                    <option>15 minutes</option>
                    <option>30 minutes</option>
                    <option>1 hour</option>
                    <option>4 hours</option>
                    <option>1 day</option>
                </select>
            </div>
            
            <div class="direction-buttons">
                <div class="direction-btn up selected">‚Üë UP</div>
                <div class="direction-btn down">‚Üì DOWN</div>
            </div>
            
            <button id="placePredictionBtn" class="button" disabled>Make Prediction</button>
        </div>

        <!-- History -->
        <div class="section">
            <h2 class="section-title">Transaction History</h2>
            <div class="table-responsive">
                <table>
                    <thead>
                        <tr>
                            <th>Asset</th>
                            <th>Direction</th>
                            <th>Entry</th>
                            <th>Exit</th>
                            <th>Result</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody id="transactionHistory">
                        <tr id="noTransactionsRow">
                            <td colspan="6" style="text-align: center; color: #94a3b8;">
                                Connect your wallet to view transaction history
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>Connected to network: <strong id="networkStatus">Neura Testnet (Chain ID: 267)</strong></p>
            <p>Support for: MetaMask, OKX, Rabbit, Trust, Coinbase, Phantom</p>
            <p style="margin-top: 15px; font-size: 0.8rem;">NeuralLens Predict ¬© 2023 - All rights reserved</p>
        </div>
    </div>

    <script>
        // Application state
        const state = {
            isConnected: false,
            walletAddress: '',
            walletType: '',
            balance: 0,
            activePredictions: 0,
            totalPredictions: 0,
            isOwner: false,
            transactions: [],
            // Supported wallet information
            supportedWallets: {
                metamask: {
                    name: 'MetaMask',
                    icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzIyMjIyMiIvPgo8cGF0aCBkPSJNMjQuMTQ1NyAxMEwxNi4wNzE0IDEzLjY2NjdMMTkuNzE0MyA1LjMzMzM0TDI0LjE0NTcgMTBaTTcuODU3MTQgMTBMMTIuMjg1NyAxMy42NjY3TDE2LjA3MTQgNS4zMzMzNEw3Ljg1NzE0IDEwWiIgZmlsbD0iI0U4NzYxQyIvPgo8cGF0aCBkPSJNMjAuNTcxNCAyMEwxNi4wNzE0IDEzLjY2NjdMMTIuMjg1NyAxMy42NjY3TDE3LjQyODYgMjBIMjAuNTcxNFpNMTEuNDI4NiAyMEwxNi4wNzE0IDEzLjY2NjdMNy44NTcxNCAxMEwxMS40Mjg2IDIwWiIgZmlsbD0iI0Y4ODc0QSIvPgo8cGF0aCBkPSJNMjAuNTcxNCAyMEwyNC4xNDU3IDEwTDE2LjA3MTQgMTMuNjY2N0wyMC41NzE0IDIwWiIgZmlsbD0iI0U4NzYxQyIvPgo8cGF0aCBkPSJNMTEuNDI4NiAyMEw3Ljg1NzE0IDEwTDE2LjA3MTQgMTMuNjY2N0wxMS40Mjg2IDIwWiIgZmlsbD0iI0QzNjQ0NSIvPgo8L3N2Zz4K',
                    color: '#E2761B'
                },
                okx: {
                    name: 'OKX Wallet',
                    icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzAwMDAwMCIvPgo8cGF0aCBkPSJNMTYgMjBDMTkuMzEzNyAyNCAyMi4yMjQ5IDIyLjIxMjEgMjQuMjQ2NyAxOS41MjQ4TDE5LjUyNDggMTYuNzUzM0MyMS4wMDA0IDE4Ljk5NzcgMTguOTk3NyAyMS4wMDA0IDE2LjY2NjcgMTkuNjY2N0MxNC4zMzU3IDE4LjMzMyAxNS42NjY3IDE1LjY2NjcgMTUuNjY2NyAxNS42NjY3QzE1LjY2NjcgMTUuNjY2NyAxNy45OTk3IDE0LjMzMzcgMTkuNTI0OCAxNS4yNDY3TDI0LjI0NjcgMTIuNDc1MkMyMi4yMjQ5IDkuNzg3OTQgMTkuMzEzNyA4IDE2IDhDMTEuNTgxNyA4IDggMTEuNTgxNyA4IDE2QzggMjAuNDE4MyAxMS41ODE3IDI0IDE2IDI0WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
                    color: '#000000'
                },
                rabbit: {
                    name: 'Rabbit Wallet',
                    icon: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNiIgZmlsbD0iIzAwQjBGRiIvPgo8cGF0aCBkPSJNMTYgMTBDMTguMjA5MSAxMCAyMCAxMS43OTA5IDIwIDE0QzIwIDE2LjIwOTEgMTguMjA5MSAxOCAxNiAxOEMxMy43OTA5IDE4IDEyIDE2LjIwOTEgMTIgMTRDMTIgMTEuNzkwOSAxMy43OTA5IDEwIDE2IDEwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2IDIyQzE5LjMxMzcgMjIgMjIgMTkuMzEzNyAyMiAxNkMyMiAxMi42ODYzIDE5LjMxMzcgMTAgMTYgMTBDMTIuNjg2MyAxMCAxMCAxMi42ODYzIDEwIDE2QzEwIDE5LjMxMzcgMTIuNjg2MyAyMiAxNiAyMlpNMTYgMjBDMTMuNzkwOSAyMCAxMiAxOC4yMDkxIDEyIDE2QzEyIDEzLjc5MDkgMTMuNzkwOSAxMiAxNiAxMkMxOC4yMDkxIDEyIDIwIDEzLjc5MDkgMjAgMTZDMjAgMTguMjA5MSAxOC4yMDkxIDIwIDE2IDIwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE2LjUgMTYuNUgxNS41VjE3LjVIMTYuNVYxNi41WiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==',
                    color: '#00B0FF'
                }
            },
            // Asset list (20+ top ranking assets, ANKR first)
            assets: [
                { rank: 1, symbol: 'ANKR', name: 'Ankr', price: 0.05, change: 3.2, category: 'layer1', icon: 'https://cryptologos.cc/logos/ankr-ankr-logo.png' },
                { rank: 2, symbol: 'BTC', name: 'Bitcoin', price: 54851, change: 1.8, category: 'layer1', icon: 'https://cryptologos.cc/logos/bitcoin-btc-logo.png' },
                { rank: 3, symbol: 'ETH', name: 'Ethereum', price: 3721, change: 2.4, category: 'layer1', icon: 'https://cryptologos.cc/logos/ethereum-eth-logo.png' },
                { rank: 4, symbol: 'BNB', name: 'Binance Coin', price: 405, change: 0.8, category: 'layer1', icon: 'https://cryptologos.cc/logos/bnb-bnb-logo.png' },
                { rank: 5, symbol: 'SOL', name: 'Solana', price: 182, change: 5.6, category: 'layer1', icon: 'https://cryptologos.cc/logos/solana-sol-logo.png' },
                { rank: 6, symbol: 'XRP', name: 'Ripple', price: 0.62, change: -0.3, category: 'layer1', icon: 'https://cryptologos.cc/logos/xrp-xrp-logo.png' },
                { rank: 7, symbol: 'ADA', name: 'Cardano', price: 0.58, change: 1.2, category: 'layer1', icon: 'https://cryptologos.cc/logos/cardano-ada-logo.png' },
                { rank: 8, symbol: 'DOGE', name: 'Dogecoin', price: 0.15, change: 2.1, category: 'meme', icon: 'https://cryptologos.cc/logos/dogecoin-doge-logo.png' },
                { rank: 9, symbol: 'AVAX', name: 'Avalanche', price: 42, change: 3.8, category: 'layer1', icon: 'https://cryptologos.cc/logos/avalanche-avax-logo.png' },
                { rank: 10, symbol: 'DOT', name: 'Polkadot', price: 8.15, change: 0.9, category: 'layer1', icon: 'https://cryptologos.cc/logos/polkadot-new-dot-logo.png' },
                { rank: 11, symbol: 'TRX', name: 'TRON', price: 0.12, change: 1.4, category: 'layer1', icon: 'https://cryptologos.cc/logos/tron-trx-logo.png' },
                { rank: 12, symbol: 'MATIC', name: 'Polygon', price: 0.95, change: 2.7, category: 'layer2', icon: 'https://cryptologos.cc/logos/polygon-matic-logo.png' },
                { rank: 13, symbol: 'SHIB', name: 'Shiba Inu', price: 0.000025, change: 4.2, category: 'meme', icon: 'https://cryptologos.cc/logos/shiba-inu-shib-logo.png' },
                { rank: 14, symbol: 'LTC', name: 'Litecoin', price: 86.5, change: 0.6, category: 'layer1', icon: 'https://cryptologos.cc/logos/litecoin-ltc-logo.png' },
                { rank: 15, symbol: 'UNI', name: 'Uniswap', price: 12.3, change: 1.9, category: 'defi', icon: 'https://cryptologos.cc/logos/uniswap-uni-logo.png' },
                { rank: 16, symbol: 'ATOM', name: 'Cosmos', price: 10.8, change: 2.1, category: 'layer1', icon: 'https://cryptologos.cc/logos/cosmos-atom-logo.png' },
                { rank: 17, symbol: 'XLM', name: 'Stellar', price: 0.13, change: 0.4, category: 'layer1', icon: 'https://cryptologos.cc/logos/stellar-xlm-logo.png' },
                { rank: 18, symbol: 'LINK', name: 'Chainlink', price: 18.2, change: 1.7, category: 'defi', icon: 'https://cryptologos.cc/logos/chainlink-link-logo.png' },
                { rank: 19, symbol: 'ALGO', name: 'Algorand', price: 0.23, change: 1.1, category: 'layer1', icon: 'https://cryptologos.cc/logos/algorand-algo-logo.png' },
                { rank: 20, symbol: 'BCH', name: 'Bitcoin Cash', price: 265, change: 0.8, category: 'layer1', icon: 'https://cryptologos.cc/logos/bitcoin-cash-bch-logo.png' },
                { rank: 21, symbol: 'NEAR', name: 'NEAR Protocol', price: 3.45, change: 3.2, category: 'layer1', icon: 'https://cryptologos.cc/logos/near-protocol-near-logo.png' },
                { rank: 22, symbol: 'FIL', name: 'Filecoin', price: 5.8, change: 1.8, category: 'storage', icon: 'https://cryptologos.cc/logos/filecoin-fil-logo.png' },
                { rank: 23, symbol: 'APT', name: 'Aptos', price: 9.2, change: 2.9, category: 'layer1', icon: 'https://cryptologos.cc/logos/aptos-apt-logo.png' },
                { rank: 24, symbol: 'AAVE', name: 'Aave', price: 104, change: 1.5, category: 'defi', icon: 'https://cryptologos.cc/logos/aave-aave-logo.png' },
                { rank: 25, symbol: 'GRT', name: 'The Graph', price: 0.18, change: 2.3, category: 'defi', icon: 'https://cryptologos.cc/logos/the-graph-grt-logo.png' }
            ],
            selectedAsset: null,
            filteredAssets: [],
            currentFilter: 'all',
            searchTerm: ''
        };

        // DOM elements
        const connectWalletBtn = document.getElementById('connectWalletBtn');
        const disconnectWalletBtn = document.getElementById('disconnectWalletBtn');
        const walletAddressElement = document.getElementById('walletAddress');
        const walletIconElement = document.getElementById('walletIcon');
        const addressTextElement = document.getElementById('addressText');
        const copyAddressBtn = document.getElementById('copyAddressBtn');
        const explorerBtn = document.getElementById('explorerBtn');
        const notificationElement = document.getElementById('notification');
        const addLiquidityBtn = document.getElementById('addLiquidityBtn');
        const placePredictionBtn = document.getElementById('placePredictionBtn');
        const refreshStatsBtn = document.getElementById('refreshStatsBtn');
        const ankrBalanceElement = document.getElementById('ankrBalance');
        const activePredictionsElement = document.getElementById('activePredictions');
        const totalPredictionsElement = document.getElementById('totalPredictions');
        const ownerStatusElement = document.getElementById('ownerStatus');
        const ownerBadgeElement = document.getElementById('ownerBadge');
        const transactionHistoryElement = document.getElementById('transactionHistory');
        const noTransactionsRow = document.getElementById('noTransactionsRow');
        const assetsGrid = document.getElementById('assetsGrid');
        const searchAssetsInput = document.getElementById('searchAssets');
        const entryPriceInput = document.getElementById('entry-price');
        const filterTabs = document.querySelectorAll('.filter-tab');
        const walletOptions = document.querySelectorAll('.wallet-option');

        // Helper variables
        let dropdownOpen = false;

        // Generate random wallet address
        function generateWalletAddress() {
            const chars = '0123456789abcdef';
            let address = '0x';
            for (let i = 0; i < 40; i++) {
                address += chars[Math.floor(Math.random() * chars.length)];
            }
            return address;
        }

        // Format wallet address
        function formatAddress(address) {
            if (!address) return '';
            return `${address.substring(0, 6)}...${address.substring(address.length - 4)}`;
        }

        // Format price
        function formatPrice(price) {
            if (price >= 1000) {
                return `$${price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;
            } else if (price >= 1) {
                return `$${price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            } else {
                return `$${price.toFixed(6).replace(/\.?0+$/, '')}`;
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            notificationElement.textContent = message;
            notificationElement.className = `notification ${type}`;
            notificationElement.style.display = 'block';
            
            setTimeout(() => {
                notificationElement.style.display = 'none';
            }, 3000);
        }

        // Copy address to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('Address copied to clipboard!', 'success');
            }).catch(err => {
                console.error('Error copying: ', err);
                showNotification('Error copying address', 'error');
            });
        }

        // Open address explorer
        function openExplorer(address) {
            const explorerUrl = `https://testnet.neura.org/address/${address}`;
            window.open(explorerUrl, '_blank');
        }

        // Render assets in grid
        function renderAssets() {
            assetsGrid.innerHTML = '';
            
            let assetsToRender = state.filteredAssets;
            
            // Apply filter
            if (state.currentFilter !== 'all') {
                if (state.currentFilter === 'top10') {
                    assetsToRender = assetsToRender.filter(asset => asset.rank <= 10);
                } else {
                    assetsToRender = assetsToRender.filter(asset => asset.category === state.currentFilter);
                }
            }
            
            // Apply search
            if (state.searchTerm) {
                const term = state.searchTerm.toLowerCase();
                assetsToRender = assetsToRender.filter(asset => 
                    asset.symbol.toLowerCase().includes(term) || 
                    asset.name.toLowerCase().includes(term)
                );
            }
            
            assetsToRender.forEach(asset => {
                const assetCard = document.createElement('div');
                assetCard.className = `asset-card ${asset.symbol === 'ANKR' ? 'ankr-selected' : ''} ${state.selectedAsset?.symbol === asset.symbol ? 'selected' : ''}`;
                assetCard.dataset.symbol = asset.symbol;
                
                const priceFormatted = formatPrice(asset.price);
                const changeClass = asset.change >= 0 ? 'positive' : 'negative';
                const changeSymbol = asset.change >= 0 ? '+' : '';
                
                assetCard.innerHTML = `
                    <div class="asset-rank">${asset.rank}</div>
                    <div class="asset-header">
                        <img src="${asset.icon}" alt="${asset.symbol}" class="asset-icon" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTAiIGZpbGw9IiMzMzYiLz4KPC9zdmc+'">
                        <span class="asset-name">${asset.symbol}</span>
                    </div>
                    <div class="asset-symbol">${asset.name}</div>
                    <div class="asset-price">${priceFormatted}</div>
                    <div class="asset-change ${changeClass}">${changeSymbol}${asset.change.toFixed(1)}%</div>
                `;
                
                assetCard.addEventListener('click', () => selectAsset(asset));
                assetsGrid.appendChild(assetCard);
            });
            
            // Select ANKR by default if no selection
            if (!state.selectedAsset) {
                const ankrAsset = state.assets.find(asset => asset.symbol === 'ANKR');
                if (ankrAsset) {
                    selectAsset(ankrAsset);
                }
            }
        }

        // Select asset
        function selectAsset(asset) {
            state.selectedAsset = asset;
            
            // Update entry price automatically
            entryPriceInput.value = asset.price.toFixed(asset.price >= 1 ? 2 : 6);
            
            // Update interface
            renderAssets();
            
            // Show notification
            showNotification(`${asset.symbol} selected! Current price: ${formatPrice(asset.price)}`, 'info');
        }

        // Filter assets
        function filterAssets(filter) {
            state.currentFilter = filter;
            
            // Update tabs
            filterTabs.forEach(tab => {
                if (tab.dataset.filter === filter) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            // Render assets
            renderAssets();
        }

        // Search assets
        function searchAssets(term) {
            state.searchTerm = term;
            renderAssets();
        }

        // Update UI based on state
        function updateUI() {
            if (state.isConnected) {
                // Show connected address
                addressTextElement.textContent = `${formatAddress(state.walletAddress)} (${state.walletType})`;
                walletAddressElement.className = 'wallet-address connected';
                
                // Show wallet icon
                if (state.supportedWallets[state.walletType]) {
                    walletIconElement.src = state.supportedWallets[state.walletType].icon;
                    walletIconElement.style.display = 'block';
                    walletAddressElement.style.borderColor = state.supportedWallets[state.walletType].color;
                }
                
                // Show disconnect button
                connectWalletBtn.style.display = 'none';
                disconnectWalletBtn.style.display = 'flex';
                copyAddressBtn.style.display = 'flex';
                explorerBtn.style.display = 'flex';
                
                // Enable buttons
                addLiquidityBtn.disabled = false;
                placePredictionBtn.disabled = false;
                
                // Update statistics
                ankrBalanceElement.textContent = state.balance;
                activePredictionsElement.textContent = state.activePredictions;
                totalPredictionsElement.textContent = state.totalPredictions;
                
                // Update owner status
                if (state.isOwner) {
                    ownerStatusElement.textContent = 'You are the Owner';
                    ownerBadgeElement.style.display = 'inline-block';
                } else {
                    ownerStatusElement.textContent = 'User Connected';
                    ownerBadgeElement.style.display = 'none';
                }
                
                // Update transaction history
                if (state.transactions.length > 0) {
                    noTransactionsRow.style.display = 'none';
                    renderTransactionHistory();
                }
                
                showNotification(`${state.walletType} connected successfully!`, 'success');
            } else {
                // Disconnected state
                addressTextElement.textContent = 'Not connected';
                walletAddressElement.className = 'wallet-address disconnected';
                walletAddressElement.style.borderColor = '#ef4444';
                
                // Hide wallet icon
                walletIconElement.style.display = 'none';
                
                // Show connect button
                connectWalletBtn.style.display = 'flex';
                disconnectWalletBtn.style.display = 'none';
                copyAddressBtn.style.display = 'none';
                explorerBtn.style.display = 'none';
                
                // Disable buttons
                addLiquidityBtn.disabled = true;
                placePredictionBtn.disabled = true;
                
                // Reset statistics
                ankrBalanceElement.textContent = '0';
                activePredictionsElement.textContent = '0';
                totalPredictionsElement.textContent = '0';
                ownerStatusElement.textContent = 'Not connected';
                ownerBadgeElement.style.display = 'none';
                
                // Show empty history message
                noTransactionsRow.style.display = '';
                
                // Close dropdown if open
                closeDropdown();
            }
        }

        // Render transaction history
        function renderTransactionHistory() {
            let html = '';
            
            state.transactions.forEach(tx => {
                const directionColor = tx.direction === 'up' ? '#10b981' : '#ef4444';
                const directionSymbol = tx.direction === 'up' ? '‚ñ≤ UP' : '‚ñº DOWN';
                
                html += `
                    <tr>
                        <td>${tx.asset}</td>
                        <td style="color: ${directionColor};">${directionSymbol}</td>
                        <td>${tx.entry}</td>
                        <td>${tx.exit}</td>
                        <td style="color: #10b981;">${tx.result}</td>
                        <td>${tx.value}</td>
                    </tr>
                `;
            });
            
            transactionHistoryElement.innerHTML = html;
        }

        // Connect with specific wallet
        function connectWallet(walletType) {
            closeDropdown();
            
            showNotification(`Connecting with ${walletType}...`, 'info');
            
            setTimeout(() => {
                state.isConnected = true;
                state.walletType = walletType;
                state.walletAddress = generateWalletAddress();
                state.balance = Math.floor(Math.random() * 1000) + 100;
                state.activePredictions = Math.floor(Math.random() * 5);
                state.totalPredictions = Math.floor(Math.random() * 20) + 5;
                state.isOwner = Math.random() > 0.7;
                
                // Add example transactions
                state.transactions = [
                    { asset: 'ANKR', direction: 'up', entry: '$0.048', exit: '$0.050', result: '+4.17%', value: '$500' },
                    { asset: 'BTC', direction: 'down', entry: '$54,800', exit: '$54,500', result: '+0.55%', value: '$250' }
                ];
                
                updateUI();
            }, 1500);
        }

        // Disconnect wallet
        function disconnectWallet() {
            showNotification('Disconnecting wallet...', 'info');
            
            setTimeout(() => {
                state.isConnected = false;
                state.walletType = '';
                state.walletAddress = '';
                state.balance = 0;
                state.activePredictions = 0;
                state.totalPredictions = 0;
                state.isOwner = false;
                state.transactions = [];
                state.selectedAsset = null;
                
                transactionHistoryElement.innerHTML = `
                    <tr id="noTransactionsRow">
                        <td colspan="6" style="text-align: center; color: #94a3b8;">
                            Connect your wallet to view transaction history
                        </td>
                    </tr>
                `;
                
                updateUI();
                showNotification('Wallet disconnected', 'info');
            }, 1000);
        }

        // Toggle dropdown
        function toggleDropdown() {
            dropdownOpen = !dropdownOpen;
            if (dropdownOpen) {
                connectWalletBtn.classList.add('active');
            } else {
                connectWalletBtn.classList.remove('active');
            }
        }

        // Close dropdown
        function closeDropdown() {
            dropdownOpen = false;
            connectWalletBtn.classList.remove('active');
        }

        // Update statistics
        function refreshStatistics() {
            if (!state.isConnected) {
                showNotification('Connect your wallet first', 'error');
                return;
            }
            
            showNotification('Updating statistics...', 'info');
            
            setTimeout(() => {
                state.balance = Math.floor(Math.random() * 1000) + 100;
                state.activePredictions = Math.floor(Math.random() * 5);
                state.totalPredictions = Math.floor(Math.random() * 20) + 5;
                
                // Update asset prices (simulation)
                state.assets.forEach(asset => {
                    const change = (Math.random() - 0.5) * 4;
                    asset.change = parseFloat(change.toFixed(1));
                    asset.price = asset.price * (1 + change / 100);
                });
                
                // Render assets with new prices
                renderAssets();
                
                updateUI();
                showNotification('Statistics updated!', 'success');
            }, 1000);
        }

        // Initialize assets
        function initializeAssets() {
            // Clone assets array to filteredAssets
            state.filteredAssets = [...state.assets];
            
            // Sort by rank
            state.filteredAssets.sort((a, b) => a.rank - b.rank);
            
            // Render assets
            renderAssets();
            
            // Select ANKR by default
            const ankrAsset = state.assets.find(asset => asset.symbol === 'ANKR');
            if (ankrAsset) {
                selectAsset(ankrAsset);
            }
        }

        // Event Listeners
        connectWalletBtn.addEventListener('click', (e) => {
            if (e.target.closest('.wallet-dropdown')) return;
            toggleDropdown();
        });

        disconnectWalletBtn.addEventListener('click', disconnectWallet);
        refreshStatsBtn.addEventListener('click', refreshStatistics);
        
        copyAddressBtn.addEventListener('click', () => {
            if (state.walletAddress) {
                copyToClipboard(state.walletAddress);
            }
        });

        explorerBtn.addEventListener('click', () => {
            if (state.walletAddress) {
                openExplorer(state.walletAddress);
            }
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!connectWalletBtn.contains(e.target) && dropdownOpen) {
                closeDropdown();
            }
        });

        // Connect with selected wallet
        walletOptions.forEach(option => {
            option.addEventListener('click', () => {
                const walletType = option.dataset.wallet;
                connectWallet(walletType);
            });
        });

        // Asset filters
        filterTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const filter = tab.dataset.filter;
                filterAssets(filter);
            });
        });

        // Asset search
        searchAssetsInput.addEventListener('input', (e) => {
            searchAssets(e.target.value);
        });

        // Direction interactivity
        const directionBtns = document.querySelectorAll('.direction-btn');
        directionBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                directionBtns.forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        // Leverage control
        const leverageSlider = document.getElementById('leverage');
        const leverageValue = document.getElementById('leverage-value');
        
        leverageSlider.addEventListener('input', function() {
            leverageValue.textContent = this.value + 'x';
        });

        // Add liquidity button
        addLiquidityBtn.addEventListener('click', function() {
            if (!state.isConnected) return;
            
            const amount = document.getElementById('amount').value;
            if (!amount || amount <= 0) {
                showNotification('Enter a valid amount', 'error');
                return;
            }
            
            showNotification(`Adding ${amount} ANKR to liquidity...`, 'info');
            
            setTimeout(() => {
                state.balance += parseFloat(amount);
                updateUI();
                showNotification(`${amount} ANKR added successfully!`, 'success');
            }, 2000);
        });

        // Make prediction button
        placePredictionBtn.addEventListener('click', function() {
            if (!state.isConnected) return;
            if (!state.selectedAsset) {
                showNotification('Select an asset first', 'error');
                return;
            }
            
            const selectedAsset = state.selectedAsset;
            const direction = document.querySelector('.direction-btn.selected').classList.contains('up') ? 'up' : 'down';
            const entryPrice = entryPriceInput.value;
            
            showNotification(`Sending prediction for ${selectedAsset.symbol} (${direction})...`, 'info');
            
            setTimeout(() => {
                state.activePredictions++;
                state.totalPredictions++;
                
                // Calculate simulated exit price
                const exitPrice = direction === 'up' 
                    ? (parseFloat(entryPrice) * 1.02).toFixed(6)
                    : (parseFloat(entryPrice) * 0.98).toFixed(6);
                
                const result = direction === 'up' ? '+2.00%' : '+2.00%';
                
                // Add transaction to history
                const newTransaction = {
                    asset: selectedAsset.symbol,
                    direction: direction,
                    entry: formatPrice(parseFloat(entryPrice)),
                    exit: formatPrice(parseFloat(exitPrice)),
                    result: result,
                    value: '$100'
                };
                
                state.transactions.unshift(newTransaction);
                renderTransactionHistory();
                noTransactionsRow.style.display = 'none';
                
                updateUI();
                showNotification(`Prediction for ${selectedAsset.symbol} completed successfully!`, 'success');
            }, 2000);
        });

        // Initialize application
        function initializeApp() {
            updateUI();
            initializeAssets();
            
            // Update prices periodically (simulation)
            setInterval(() => {
                if (state.isConnected) {
                    state.assets.forEach(asset => {
                        const change = (Math.random() - 0.5) * 0.2;
                        asset.change = parseFloat((asset.change + change).toFixed(1));
                        asset.price = asset.price * (1 + change / 100);
                    });
                    renderAssets();
                }
            }, 30000); // Updates every 30 seconds
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
